"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[761],{8259:function(e,t,r){r.d(t,{II:function(){return c},Kx:function(){return l}});var s=r(8683),n=r(5987),o=(r(2791),r(6702)),i=r(184),a=["input","meta","child"],u=function(e){e.input;var t=e.meta,r=(e.child,(0,n.Z)(e,a)),s=t.touched&&t.error;return(0,i.jsx)("div",{className:o.Z.CraftForm__blockInput,children:(0,i.jsxs)("div",{children:[r.children,s&&(0,i.jsx)("span",{className:o.Z.CraftForm__error,children:"Error"})]})})},l=function(e){return(0,i.jsx)(u,(0,s.Z)((0,s.Z)({},e),{},{children:(0,i.jsx)("textarea",(0,s.Z)({placeholder:e.placeholder},e.input))}))},c=function(e){return(0,i.jsx)(u,(0,s.Z)((0,s.Z)({},e),{},{children:(0,i.jsx)("input",(0,s.Z)({placeholder:e.placeholder},e.input))}))}},1761:function(e,t,r){r.r(t),r.d(t,{default:function(){return A}});var s=r(8683),n=r(5671),o=r(3144),i=r(9340),a=r(5716),u=r(2791),l=r(364),c=r(7781),p=r(6871),f=r(3708),d=r(8580),h={post:"Posts_post__u62A2",post__img:"Posts_post__img__nFvZU",post__content:"Posts_post__content__ebnN0",post__likes:"Posts_post__likes__JG70o"},_=r(184),m=function(e){return(0,_.jsxs)("div",{className:h.post,children:[(0,_.jsx)("img",{className:h.post__img,src:e.profile.photos.large||"https://flyclipart.com/thumb2/user-icon-png-pnglogocom-133466.png",alt:""}),(0,_.jsxs)("div",{className:h.post__content,children:[(0,_.jsx)("p",{className:h.post__text,children:e.text}),(0,_.jsxs)("div",{className:h.post__likes,children:["Likes: ",e.likes]})]})]})},x={profile__userBlock:"Profile_profile__userBlock__oN9lz",profile__img:"Profile_profile__img__yH7fn",profile__userName:"Profile_profile__userName__DjBCb",profile__userInfo:"Profile_profile__userInfo__z1fg5",profile__userContent:"Profile_profile__userContent__Dyg4J"},j=r(7587),g=r(885),v=function(e){var t=(0,u.useState)(!1),r=(0,g.Z)(t,2),s=r[0],n=r[1],o=(0,u.useState)(e.status),i=(0,g.Z)(o,2),a=i[0],l=i[1];return(0,u.useEffect)((function(){l(e.status)}),[e.status]),(0,_.jsx)("div",{children:s&&e.isOwner?(0,_.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},type:"text",onBlur:function(){return n(!1),void e.updateUserStatus(a)},value:a}):(0,_.jsx)("div",{onDoubleClick:function(){n(!0)},children:a})})},b=r(5078),C=r(710),k=r(8259),P=r(5987),N=["profile"],y=function(e){var t=e.profile,r=(0,P.Z)(e,N),s=(0,u.useState)(!1),n=(0,g.Z)(s,2),o=n[0],i=n[1];return(0,_.jsx)("div",{children:o?(0,_.jsx)("div",{children:(0,_.jsx)(b.l0,{onSubmit:function(e){console.log(e),r.updateInfo(e),i(!1)},children:function(e){var r=e.handleSubmit;return(0,_.jsxs)("form",{onSubmit:r,children:[(0,_.jsx)("div",{children:(0,_.jsx)(b.gN,{name:"fullName",component:"input",placeholder:"Enter your Fullname"})}),(0,_.jsxs)("div",{children:["Looking for a job",(0,_.jsx)(b.gN,{name:"lookingForAJob",component:"input",type:"checkbox"})]}),(0,_.jsx)("div",{children:(0,_.jsx)(b.gN,{name:"lookingForAJobDescription",component:"input"})}),(0,_.jsxs)("div",{children:["About me",(0,_.jsx)(b.gN,{name:"aboutMe",component:"input"})]}),(0,_.jsxs)("ul",{children:["Contacts: ",Object.keys(t.contacts).map((function(e){return(0,_.jsxs)("li",{children:[e,(0,_.jsx)(b.gN,{name:"contacts.".concat(e),component:"input",placeholder:"Enter your ".concat(e," adress")})]})}))]}),(0,_.jsx)("div",{children:(0,_.jsx)("button",{type:"submit",children:"Save Changes"})})]})}})}):(0,_.jsxs)("div",{children:[(0,_.jsxs)("ul",{children:[(0,_.jsxs)("li",{children:["About Me: ",t.aboutMe||"none"]}),(0,_.jsxs)("li",{children:["Looking for a job: ",t.lookingForAJob]}),t.lookingForAJob&&(0,_.jsxs)("li",{children:["Looking for a job description: ",t.lookingForAJobDescription]}),(0,_.jsxs)("li",{children:["Full name: ",t.fullName]}),(0,_.jsxs)("ul",{children:["Contacts: ",Object.keys(t.contacts).map((function(e){return(0,_.jsxs)("li",{children:[e,": ",t.contacts[e]||"none"]},e)}))]})]}),(0,_.jsx)("div",{children:r.isOwner&&(0,_.jsx)("button",{onClick:function(){i(!0)},children:"Change profile info"})})]})})},I=function(e){var t=e.postData.map((function(t){return(0,_.jsx)(m,{profile:e.profile,id:t.id,likes:t.likes,text:t.text},t.id)}));return e.profile?(0,_.jsx)("div",{className:x.profile,children:(0,_.jsxs)("div",{className:x.profile__body,children:[(0,_.jsxs)("div",{className:x.profile__userBlock,children:[(0,_.jsx)("img",{className:x.profile__img,src:e.profile.photos.large?e.profile.photos.large:"https://flyclipart.com/thumb2/user-icon-png-pnglogocom-133466.png",alt:""}),(0,_.jsxs)("div",{className:x.profile__userContent,children:[(0,_.jsx)("h1",{className:x.profile__userName,children:e.profile.fullName}),(0,_.jsx)(v,{isOwner:e.isOwner,status:e.status,updateUserStatus:e.updateUserStatus}),(0,_.jsx)(y,{isOwner:e.isOwner,profile:e.profile,updateInfo:e.updateInfo}),!e.isOwner&&(0,_.jsx)(b.l0,{onSubmit:function(t){e.sendMessage(e.profile.userId,t)},render:function(e){var t=e.handleSubmit;return(0,_.jsxs)("form",{onSubmit:t,children:[(0,_.jsx)("div",{children:(0,_.jsx)(b.gN,{name:"Message",component:k.II,placeholder:"Message"})}),(0,_.jsx)("button",{type:"submit",children:"Send Message"})]})}})]})]}),e.isOwner&&(0,_.jsx)("input",{type:"file",onChange:function(t){e.savePhoto(t.target.files[0])}}),e.isOwner&&(0,_.jsx)("div",{children:(0,_.jsx)(Z,(0,s.Z)({},e))}),t]})}):(0,_.jsx)(j.p,{})},S=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(t,r){return t||r(e)}),void 0)}},Z=function(e){return(0,_.jsx)(b.l0,{onSubmit:function(t){e.addPost(t.Post),t.Post=""},render:function(e){var t=e.handleSubmit;return(0,_.jsxs)("form",{onSubmit:t,children:[(0,_.jsx)("div",{children:(0,_.jsx)(b.gN,{name:"Post",component:k.Kx,placeholder:"Post",validate:S(C.C,(0,C.D)(10))})}),(0,_.jsx)("button",{type:"submit",children:"Post"})]})}})},F=function(e){return e.ProfilePage.PostData},O=function(e){return e.ProfilePage.postNewText},w=function(e){return e.ProfilePage.profile},M=function(e){return e.ProfilePage.status},D=function(e){return e.Auth.id},U=function(e){return e.MessagesPage.MessagesData},J=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){var e=this.props.router.params.userId;this.props.getUserId(e),this.props.getUserStatus(e),this.props.startChatting(e),this.props.showMessages(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props.router.params.userId;this.props.router.params.userId!=e.router.params.userId&&(this.props.getUserId(t),this.props.getUserStatus(t))}},{key:"render",value:function(){return(0,_.jsx)(I,(0,s.Z)((0,s.Z)({},this.props),{},{isOwner:this.props.router.params.userId==this.props.selfId,profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,savePhoto:this.props.savePhoto,updateInfo:this.props.updateInfo,MessagesData:this.props.MessagesData,sendMessage:this.props.sendMessage}))}}]),r}(u.Component);var A=(0,c.qC)((0,l.$j)((function(e){return{postData:F(e),postNewText:O(e),profile:w(e),status:M(e),selfId:D(e),MessagesData:U(e)}}),{addPost:f.q2,setProfile:f.RG,getUserId:f.n5,getUserStatus:f.Tq,updateUserStatus:f.OL,savePhoto:f.Ju,updateInfo:f.rn,sendMessage:d.bG,showMessages:d.$_,startChatting:d.fJ}),(function(e){return function(t){var r=(0,p.TH)(),n=(0,p.s0)(),o=(0,p.UO)();return(0,_.jsx)(e,(0,s.Z)((0,s.Z)({},t),{},{router:{location:r,navigate:n,params:o}}))}}))(J)},710:function(e,t,r){r.d(t,{C:function(){return s},D:function(){return n}});var s=function(e){if(!e)return"Field is required"},n=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e)}}},6702:function(e,t){t.Z={CraftForm__input:"CraftForms_CraftForm__input__vFVJe",CraftForm__error:"CraftForms_CraftForm__error__iaJ0q",CraftForm__summaryEror:"CraftForms_CraftForm__summaryEror__i0YjD",CraftForm__blockInput:"CraftForms_CraftForm__blockInput__SNOix"}},5987:function(e,t,r){r.d(t,{Z:function(){return n}});var s=r(3366);function n(e,t){if(null==e)return{};var r,n,o=(0,s.Z)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}}}]);
//# sourceMappingURL=761.2b4bcb7d.chunk.js.map