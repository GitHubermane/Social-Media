"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[900],{9900:function(e,s,r){r.r(s),r.d(s,{UsersContainer:function(){return v},default:function(){return N}});var n=r(8683),t=r(5671),o=r(3144),i=r(9340),l=r(5716),u=r(2791),a=r(5599),c=r(364),f=r(885),g="Paginator_selectedPage__7lLd8",d="Paginator_normalPage__tp5v9",h=r(184),_=function(e){for(var s=e.totalUsersCount,r=e.usersCount,n=e.currentPageNumber,t=e.onPageChange,o=Math.ceil(s/r),i=[],l=1;l<=o;l++)i.push(l);var a=(0,u.useState)(1),c=(0,f.Z)(a,2),_=c[0],p=c[1],U=s/10,m=10*(_-1)+1,C=10*_;return(0,h.jsxs)("div",{children:[_>1&&(0,h.jsx)("button",{onClick:function(){p(_-1)},children:"Prev"}),i.filter((function(e){return m<=e&&e<=C})).map((function(e){return(0,h.jsx)("span",{className:n===e?g:d,onClick:function(){t(e)},children:e},e)})),_<Math.round(U)&&(0,h.jsx)("button",{onClick:function(){p(_+1)},children:"Next"})]})},p=r(5705),U=u.memo((function(e){return(0,h.jsx)("div",{children:(0,h.jsx)(p.J9,{initialValues:{term:"",friends:"All"},onSubmit:function(s,r){var n=r.setSubmitting,t={term:s.term,friends:"All"===s.friends?null:"Followed"===s.friends};e.onFilterChange(t),n(!1)},children:function(e){var s=e.isSubmitting;return(0,h.jsxs)(p.l0,{children:[(0,h.jsx)(p.gN,{type:"text",name:"term"}),(0,h.jsxs)(p.gN,{as:"select",name:"friends",children:[(0,h.jsx)("option",{value:"All",children:"All"}),(0,h.jsx)("option",{value:"Followed",children:"Followed"}),(0,h.jsx)("option",{value:"Unfollowed",children:"Unfollowed"})]}),(0,h.jsx)("button",{type:"submit",disabled:s,children:"Submit"})]})}})})})),m=r(3504),C={User__body:"User_User__body__1rMOJ",User__container:"User_User__container__RFipw",User__img:"User_User__img__3K6Do",User__name:"User_User__name__6PEMq",User__status:"User_User__status__03rRS",User__button:"User_User__button__bLfC+",User__link:"User_User__link__Zkiok"},j=function(e){var s=e.user,r=e.followingInProgress,n=e.unfollow,t=e.follow;return(0,h.jsxs)("div",{className:C.User__body,children:[(0,h.jsxs)("div",{className:C.User__container,children:[(0,h.jsx)(m.OL,{to:"/profile/".concat(s.id),children:(0,h.jsx)("img",{className:C.User__img,src:null!=s.photos.small?s.photos.small:"https://flyclipart.com/thumb2/user-icon-png-pnglogocom-133466.png"})}),(0,h.jsxs)("div",{className:C.User__content,children:[(0,h.jsx)("div",{className:C.User__name,children:(0,h.jsx)(m.OL,{className:C.User__link,to:"/profile/".concat(s.id),children:s.name})}),(0,h.jsxs)("p",{className:C.User__status,children:[s.status,s.id]})]})]}),(0,h.jsx)("div",{children:s.followed?(0,h.jsx)("button",{className:C.User__button,disabled:r.some((function(e){return e===s.id})),onClick:function(){n(s.id)},children:"Unfollow"}):(0,h.jsx)("button",{className:C.User__button,disabled:r.some((function(e){return e===s.id})),onClick:function(){t(s.id)},children:"Follow"})})]},s.id)},x=function(e){return(0,h.jsxs)("div",{children:[(0,h.jsx)(U,{onFilterChange:e.onFilterChange}),(0,h.jsx)(_,{totalUsersCount:e.totalUsersCount,usersCount:e.usersCount,currentPageNumber:e.currentPageNumber,onPageChange:e.onPageChange}),e.UsersData.map((function(s){return(0,h.jsx)(j,{user:s,followingInProgress:e.followingInProgress,unfollow:e.unfollow,follow:e.follow},s.id)}))]})},P=r(8549),b=r(9862),w=r(7781),v=function(e){(0,i.Z)(r,e);var s=(0,l.Z)(r);function r(){var e;(0,t.Z)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=s.call.apply(s,[this].concat(o))).onPageChange=function(s){var r=e.props,n=r.usersCount,t=r.filter;e.props.pageChange(s,n,t.term,t.friends)},e.onFilterChange=function(s){var r=e.props.usersCount;e.props.pageChange(1,r,s.term,s.friends),e.props.getUsers(1,r,s.term,s.friends)},e}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){var e=this.props,s=e.currentPageNumber,r=e.usersCount,n=e.filter;this.props.getUsers(s,r,n.term,n.friends)}},{key:"render",value:function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{UsersData:this.props.UsersData,totalUsersCount:this.props.totalUsersCount,currentPageNumber:this.props.currentPageNumber,usersCount:this.props.usersCount,onPageChange:this.onPageChange,onFilterChange:this.onFilterChange,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress,filter:this.props.filter,setFilter:this.props.setFilter,getUsers:this.props.getUsers}),this.props.isFetching?(0,h.jsx)(P.p,{}):null]})}}]),r}(u.Component),N=(0,w.qC)((0,c.$j)((function(e){return{UsersData:e.UsersPage.UsersData,totalUsersCount:e.UsersPage.totalUsersCount,currentPageNumber:e.UsersPage.currentPageNumber,usersCount:e.UsersPage.usersCount,isFetching:e.UsersPage.isFetching,followingInProgress:e.UsersPage.followingInProgress,filter:e.UsersPage.filter}}),(0,n.Z)((0,n.Z)({},a.Nw),{},{follow:a.ZN,unfollow:a.fv,getUsers:a.Rf,pageChange:a.yW})),b.D)(v)},9862:function(e,s,r){r.d(s,{D:function(){return c}});var n=r(8683),t=r(5987),o=(r(2791),r(364)),i=r(6871),l=r(184),u=["isAuthorised"],a=function(e){return{isAuthorised:e.Auth.isAuthorised}};function c(e){return(0,o.$j)(a)((function(s){s.isAuthorised;var r=(0,t.Z)(s,u);return s.isAuthorised?(0,l.jsx)(e,(0,n.Z)({},r)):(0,l.jsx)(i.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=900.7e173561.chunk.js.map